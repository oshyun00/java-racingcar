# java-racingcar

자동차 경주 미션 저장소

## 우아한테크코스 코드리뷰

- [온라인 코드 리뷰 과정](https://github.com/woowacourse/woowacourse-docs/blob/master/maincourse/README.md)

---
## 📒 단어 정의
- 시도(try): 각 라운드를 의미한다. 매 라운드(시도)마다 자동차들은 전진하거나 멈춰있는다.
- 전진(forward): 실제로 차량이 앞으로 한칸 움직인다.
- 파워(power): 차량이 해당 라운드에서 가지고 있는 동력을 의미한다. power가 기준 이상일 때 전진할 수 있다.

## 📄 기능 요구사항 정의

### 게임 시작
- [x] 자동차 이름을 입력받는다
  - [x] 자동차 이름은 쉼표로 구분해야 한다
  - [x] 자동차 이름은 공백 포함 5자 이하여야 한다
  - [x] 자동차 이름은 중복될 수 없다
  - [x] 자동차는 한 대 이상어야아 한다
- [x] 시도 횟수를 입력받는다
  - [x] 시도 횟수는 숫자여야 한다
  - [x] 시도 횟수는 1 이상이어야한다
- [x] 사용자가 잘못된 입력을 하면 해당 부분부터 다시 입력한다

### 게임 진행
- [x] 각 라운드마다 모든 자동차가 전진을 시도한다
  - [x] power(0~9 사이의 랜덤값)를 구해 4 이상인 경우 전진 가능하다고 판단한다
  - [x] 전진 가능 여부에 따라 전진한다
  - [x] 전진 결과를 출력한다

### 게임 종료
- [x] 우승자를 출력한다
  - [x] 우승자는 한 명 이상일 수 있다

---
## 부록
### 생각 로그
- 요구사항 정의 목표: 유저가 게임 동작 과정을 이해할 수 있게 작성한다.

### 고민한 포인트
> 의존성 갖는 관계에서 매개변수로 객체를 넘기는 방식과, 필드로 객체를 갖는 방식의 차이점
  1. 매개변수로 넘길때
   - 장점: 객체를 메시지처럼 주고받을 수 있음 (사용하는 측에서 단일 객체를 쓰던, 객체 리스트를 쓰던 상관 없이 사용 가능함)
     - 상관 없이 사용 가능하다는 점이 잘 안와닿긴 함 (ex. car를 사용하는 racing이 있다고 할 때)
       - racing이 car를 매개변수로 받을 때, List<Car>를 가진 누군가가 racing을 사용하려면 racing 객체를 하나만 만들고, 함수를 여러 번 호출하면 됨
       - racing이 car를 필드로 가질 때, List<Car>를 가진 누군가가 racing을 사용하려면 List<Racing> 처럼 객체를 여러 개 만들고, 각각의 함수를 한 번씩 호출하면 됨
   - 단점: 동일한 매개변수를 메서드마다 반복해서 넣어주는 일 생기기도 함 (매개변수가 많아지는 경우도 생길 수 있음)
   2. 필드로 넣을때
   - 장점: 모든 메서드가 사용하는 필드의 경우, 중복 코드 줄일 수 있음
   - 단점: 필드 형태가 고정되어 있어 유연하지 못함


> dto 재사용
  1. 용도가 다르지만 전달할 데이터는 같은 경우, 동일한 dto를 재사용해도 되는가
     - 재사용할 때 장점: 코드 중복 감소
     - 재사용안하고 각각 만들어 사용할 때 장점: 두 기능의 스펙이 달라졌을 때 대응하기 용이함

  - 우리가 생각한 결론: 서비스 볼륨에 따라 다름


> dto 값을 활용하는 로직의 위치 (도메인과 dto 매핑하는 작업)
  1. 도메인에 넣을 때: dto의 필드가 변경되면 도메인의 코드가 바껴야 함(바람직 x)
    - dto의 필드를 도메인이 사용
  2. dto에 넣을 때: 도메인 필드가 변경되면 dto의 코드가 바껴야 함
    - 도메인의 필드를 dto가 사용
  - 우리가 생각한 결론: 두 번째 방식이 나음
    - 도메인보단 dto가 변경될 일이 더 많아서
    - dto가 많아지면 도메인이 dto를 사용하는 첫 번째 방식에선 도메인 로직이 매우 더러워질 수 있음


> static 메서드 사용
  1. static 메서드 특징: 특정 인스턴스에 속하지 않고 클래스 자체에 속해있는 메서드를 의미함. 프로그램이 실행되면 메모리에 할당되고 프로그램이 종료될 때까지 유지됨
     - static 메서드 장점: 객체를 생성하지 않고도 클래스명으로 직접 호출할 수 있음. 여러 인스턴스에서 공통으로 사용되는 동작을 정의할 수 있음
     - static 메서드 단점: 해당 메서드를 테스트하기 어려워 질 수 있음. 클래스 상태를 공유하므로 다중 스레드에서 동기화에 주의해야함
  2. static factory 메서드 특징: 생성자가 아니라 메서드를 통해 객체를 생성할 수 있음
     - 장점: 메서드 이름에 객체 생성 목적을 담을 수 있음(같은 타입을 매개변수로 받는 생성자가 여러개 필요한 경우 사용 가능 ex. fromTitle(String title), fromAuthor(String author)). 리턴 타입으로 하위 타입 객체를 반환할 수 있음(유연성)
     - 단점: public 혹은 protected 생성자 없이 static factory 메서드만 제공하는 클래스는 상속이 불가함, javadoc에서 확인하기 어려움(확인을 위해 API 문서에서 잘 정리해주어야함)
     
  - 내가 생각한 결론: 형 변환이 필요하거나 객체 생성 로직을 캡슐화 하고자 하는 경우 static factory 메서드가 유리할 수 있음. </br> 
    하지만 이번 Cars의 경우 기본 생성자를 public 으로 두고있고, 해당 생성자를 static factory 메서드와 테스트 코드에서 사용하고있기에 과연 적절한 방식인지 의문이 생김.(테스트를 위한 코드가 되는것이 아닌지?)